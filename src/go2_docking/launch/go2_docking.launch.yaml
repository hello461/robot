launch:

- node:
    pkg: "go2_media"
    exec: "front_image_publisher"
    name: "front_camera"

- node_container:
    pkg: rclcpp_components
    exec: component_container
    name: apriltag_container
    namespace: ""
    composable_node:
      - pkg: image_proc
        plugin: image_proc::RectifyNode
        name: rectify_image
        namespace: camera
        remap:
        - from: image
          to: /camera/image_raw
        - from: camera_info
          to: /camera/camera_info
        extra_arg:
        - name: use_intra_process_comms
          value: "True"

      - pkg: apriltag_ros
        plugin: AprilTagNode
        name: apriltag
        namespace: apriltag
        remap:
        - from: /apriltag/image_rect
          to: /camera/image_rect
        param:
        - from: $(find-pkg-share apriltag_ros)/cfg/tags_36h11.yaml
        extra_arg:
        - name: use_intra_process_comms
          value: "True"

      - pkg: go2_docking
        plugin: dockingPoseCompose::DetectedDockPose
        name: detected_docking_pose
        namespace: dockingPoseCompose
        extra_arg:
        - name: use_intra_process_comms
          value: "True"

# - node:
#     pkg: opennav_docking
#     exec: opennav_docking
#     name: docking_server
#     output: screen
#     param:
#     - from: $(find-pkg-share go2_docking)/config/dock_params.yaml
      
